/*
  ChromaSync Theme Stylesheet
  ---------------------------
*/


/* --- I. Базовые переопределения и фон --- */

.ym-dark-theme,
.ym-light-theme,
.ym-font-music {
	--ym-background-color-primary-enabled-basic: #000;
	--average-color-background: 0;
	--ym-background-color-primary-enabled-content: 0;
}

.DefaultLayout_root__7J0wo,
.ym-dark-theme,
.ym-light-theme {
	background: 0;
}


/* --- II. Основной макет (Layout) --- */

.PlayerBarDesktopWithBackgroundProgressBar_playerBar__mp0p9 {
	position: fixed;
	height: 90px;
	right: 0;
	left: 0;
	bottom: 0;
	border-radius: 10px 10px 0px 0px;
	border-width: 2px 0px 0px 0px;
	z-index: 401;
}

@media (min-width: 1079px) {
    .Content_main__8_wIa {
        margin-bottom: 85px;
    }

	.NavbarDesktop_root__scYzp {
		height: calc(100% - 99px);
	}
}

.Content_main__8_wIa,
.PlayerBarDesktopWithBackgroundProgressBar_playerBar__mp0p9,
.ReleaseNotesModal_root__RSw1p,
.Donation_root__nwHCN {
	backdrop-filter: blur(70px) brightness(1.5);
	background: 0;
	border-radius: 20px;
	border-width: 2px;
	border-color: #fff1;
}

.NavbarDesktopUserWidget_userProfileContainer__ha3Tm {
	height: 45px;
}

.UserProfile_root__vFuOj {
	margin-bottom: 10px;
}


/* --- III. Элементы интерфейса --- */

/* Табы (вкладки) */
[data-test-id="TAB"] {
	background: #fff2;
	border-width: 0;
}

[data-test-id="TAB"][aria-selected="false"] {
	background: 0;
	border-width: 0;
}

/* Страница истории */
.MusicHistoryPage_header__dzEvD {
	background: 0;
}

/* Настройки качества звука */
.EqualizerPresets_container__ABVY8 {
	background: 0;
}

@media (min-width: 1079px) {
	.QualitySettingsModal_root__f3gE2 {
		margin-bottom: 85px;
	}
}

[data-test-id="QUALITY_SETTINGS_CONTEXT_MENU"] {
	z-index: 402;
}

.dJZf0Flxzx7PR15g7zqM {
	z-index: 403 !important;
}

/* Блок "Моя волна" (Vibe) */
[data-test-id="MY_VIBE_PAUSE_BUTTON"] {
	background: #fff1;
	color: #fff;
}

[data-test-id="MY_VIBE_PLAY_BUTTON"] {
	background: #fff1;
	color: #fff;
}

.VibeSettings_root__ufZlV {
	background: 0;
	backdrop-filter: blur(50px);
}

/* Контекстное меню */
.NOqNiasunvfLvvi75zl9 {
	z-index: 500;
}

.s7_MO4NdsYs7nPQALD8W {
	position: fixed;
	background: 0;
	backdrop-filter: blur(60px);
}


/* --- IV. Панель PulseSync --- */

.PSB-text {
	position: fixed;
	color: #fff;
	left: 50%;
	transform: translate(-50%, -2px);
	z-index: 9999;
	font-weight: 500;
	padding: 3px;
	border-radius: 5px;
	visibility: visible;
}


/* --- V. Шапка, полноэкранный плеер и другие блоки --- */

.CompositeHeader_stickyChild_scrolling__wm9_D {
	background: #272727;
}

.FullscreenPlayerDesktopContent_additionalContent_enter__WQmXC {
	position: fixed;
	left: -50%;
	width: 105%;
	height: 100%;
}

.FullscreenPlayerDesktop_root___8vo1.FullscreenPlayerDesktop_important__dGfiL {
	background: 0;
}

.ggP7WX2_erziDHFOo32s {
	background: #f000;
}

/* Dev-панель */
.DevPanel_panel__LnoO2 {
	backdrop-filter: blur(1000px) brightness(0.8);
}

/* Слайдеры */
.ChangeVolume_root__HDxtA {
	--slider-thumb-box-shadow-color: #0000;
}

.ChangeTimecode_slider__P4qmT {
	--slider-thumb-box-shadow-color: #0000;
}

/* Текст песни (Lyrics) */
.TrackLyricsModal_content__Cstzi {
	color: #fff;
}

.TrackLyricsModal_header__nWar3 {
	color: #fff;
}

/* Описание блока */
[data-test-id="BLOCK_HEADER_DESCRIPTION"] {
	color: #fff8;
}


/* --- VI. Скрытые элементы (display: none) --- */

.NavbarDesktop_pinsList___jXIM:before,
.NavbarDesktop_pinsList___jXIM:after,
.VibeAnimation_root_visible__S7kXl,
.NavbarDesktop_user__dzbuH,
.FullscreenPlayerDesktopContent_fullscreenContent_enter__xMN2Yб,
.NavbarDesktop_scrollableContainer__HLc9D:before,
.NavbarDesktop_scrollableContainer__HLc9D:after,
.QualitySettingsModal_overlay__8pjOO,
.FullscreenPlayerDesktopContent_sliderContainer__FtBZ7,
.FullscreenPlayerDesktopControls_root__tviu4,
.BarBelow_root__KFexT,
.FullscreenPlayerDesktopContent_syncLyricsContent__H_enX:before,
.FullscreenPlayerDesktopContent_syncLyricsContent__H_enX:after,
.PlayQueue_root__ponhw:before,
.PlayQueue_root__ponhw:after {
	display: none;
}


/* --- VII. Более поздние или специфичные стили макета --- */

.DefaultLayout_layout__Zvq5Z {
	display: flex !important;
	flex-direction: column !important;
	height: 100vh !important;
	padding: 10px !important;
	box-sizing: border-box !important;
}

.DefaultLayout_content__tc3y7 {
    flex: 1 !important;
    display: flex !important;
    flex-direction: row !important;
    gap: 10px;
    min-height: 0; /* Технический "хак" для правильной работы flex */
}

.PlayerBarDesktopWithBackgroundProgressBar_playerBar__mp0p9 {
	margin-bottom: 10px;
	height: 80px;
	margin-left: 15px;
	width: calc(100% - 28px) !important;
    overflow: visible !important; /* РАЗРЕШАЕМ ОТОБРАЖАТЬ ВЫХОДЯЩИЕ ЗА ГРАНИЦЫ ЭЛЕМЕНТЫ */
}

section[data-test-id="PLAYERBAR_DESKTOP"] {
	margin-left: -1000px !important;
	margin-top: 1000;
	flex-shrink: 0 !important;
	max-height: 75px;
	width: calc(0% + 0px) !important;
}

.Content_main__8_wIa {
    flex: 1 !important;
    min-width: 0; /* "Хак" для правильной работы flex */
    /* Убираем все старые отступы, так как Flex теперь управляет ими через `gap` */
    margin: 0 !important; 
}

.NavbarDesktop_root__scYzp {
    backdrop-filter: blur(70px) brightness(1.5);
    background: #0001;
    border-radius: 20px;
    border-width: 2px;
    border-style: solid;
    border-color: var(--accent-color, #8a63b3) !important;
    min-width: 78px;
    margin-left: 15px;
    
    /* КЛЮЧЕВОЕ ИЗМЕНЕНИЕ: Жестко фиксируем высоту */
    height: calc(100vh - 130px) !important; /* 100% высоты ОКНА минус 90px (плеер) и 23px (отступы) */
    margin-top: 15px !important;

	position: relative;
	z-index: 155;
}


/* --- VIII. Стили для модальных окон и оверлеев --- */

.ifxS_8bgSnwBoCsyow0E {
    /* ИСХОДНЫЙ СТИЛЬ: для оверлея полноэкранного плеера и др. */
    background-color: transparent !important;
    backdrop-filter: saturate(200%) blur(0.9375rem) brightness(1) !important;
}

.TrackModal_root__QrFg6.ifxS_8bgSnwBoCsyow0E {
	background: transparent !important;
}

/* 2. Псевдо-элемент ::before - это наш слой с размытием (нижний слой "сэндвича"). */
.TrackModal_root__QrFg6.ifxS_8bgSnwBoCsyow0E::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    
    /* Стили самого размытия */
    background-color: rgba(25, 25, 25, 0.95) !important; 
    backdrop-filter: blur(90px) !important;
    
    border-radius: 12px; /* Скругляем углы */
}

/* 3. Контейнер с контентом. Поднимаем его НАД слоем с размытием (верхний слой "сэндвича"). */
.TrackModal_modalContent__AzQPF {
	position: relative;
}

.SkmRK9N2oP2Ld9uR2I_N {
	-webkit-backdrop-filter: blur(var(--blur-depth));
	backdrop-filter: var(--blur-depth);
}

/* Слайдер времени */
.PlayerBarDesktopWithBackgroundProgressBar_slider__SezFn {
    position: relative !important; /* Необходимо для работы z-index */
    z-index: 9999 !important;
}

/* Контейнер управления громкостью */
.ChangeVolume_root__HDxtA {
    position: relative !important; /* Необходимо для работы z-index */
    z-index: 9999 !important;
}

[data-test-id="QUALITY_SETTINGS_CONTEXT_MENU"] {
	margin-bottom: 0px;
	background: transparent !important;
	-webkit-appearance: none;
	appearance: none;
}


/* --- IX. Стилизация слайдеров --- */

[data-test-id="TRACK_LYRICS_TEXT"]::after {
	background: none !important;
}

[data-test-id="TIMECODE_SLIDER"],
[data-test-id="CHANGE_VOLUME_SLIDER"] {
	background: transparent !important;
	-webkit-appearance: none;
	appearance: none;
}

.ChangeTimecodeBackground_thumb__vx6J0,
.ChangeTimecodeBackground_progressbar__M93Ie::before,
.PlayerBarDesktopWithBackgroundProgressBar_progressBar___Q6eK::before {
	nav-left: 10px;
	background-color: var(--accent-color, #8a63b3) !important;
	height: 5px !important;
	margin-top: -5px;
	height: calc(50% - 28px) !important;
}

.ChangeVolume_wrapperSlider__9S1Vi {
	background: transparent !important;
	background-color: #8a63b300;
	height: 100% !important;
	border-radius: 20px;
	border-width: 2px;
	border-style: solid;
	border-color: #fff1;
}

.ChangeTimecodeBackground_thumb__vx6J0 {
	cursor: grab;
}

.ChangeVolume_slider__fCKGZ, .ChangeVolume_important__ZIYpu::before {
	background: transparent !important;
	background-color: var(--accent-color, #8a63b3) !important;
	color: var(--accent-color, #8a63b3) !important;
	border-color: var(--accent-color, #8a63b3) !important;
}

.ChangeVolume_slider__fCKGZ, .ChangeVolume_important__ZIYpu {
	background: transparent !important;
}

.NavbarDesktop_subTitle__Fqvr4 {
	visibility: hidden !important;
}

.UserWidget-Iframe {
	background: transparent !important;
	background-color: var(--accent-color, #8a63b3) !important;
	border-color: var(--accent-color, #8a63b3) !important;
	nav-up: 100px;
	height: 500px;
	width: 270px;
	overflow: visible !important;
}

.Timecode_root__TLT75, .Timecode_root_end__LLQsh, .TimecodeGroup_timecode__IJXpy, .ChangeTimecodeBackground_timecodeGroup__2VQ1N, .TimecodeGroup_timecode_end__kzP5g {
	background: transparent !important;
	/* background-color: var(--accent-color, #8a63b3) !important; */
	/* color: var(--accent-color, #8a63b3) !important; */
	border-color: transparent !important;
}

[data-test-id="TIMECODE_SLIDER"]::-moz-range-thumb,
[data-test-id="CHANGE_VOLUME_SLIDER"]::-moz-range-thumb {
	width: 16px;
	height: 16px;
	background: var(--accent-color, #8a63b3);
	border: 2px solid #ffffff;
	border-radius: 50%;
	cursor: pointer;
	box-shadow: 0 0 4px rgba(0, 0, 0, 0.5);
	transition: transform 0.2s ease-in-out;
}


/* --- X. Динамические стили "Хамелеон" --- */

/* 
  Задаем плавный переход для всех элементов, которые будут менять цвет.
  Это более производительно, чем задавать transition через JS.
*/
.NavbarDesktop_root__scYzp, 
.PlayerBar_root__cXUnU, 
.Content_main__8_wIa,
button[data-test-id="PAUSE_BUTTON"],
button[data-test-id="PLAY_BUTTON"] {
    transition: color 0.7s ease, background-color 0.7s ease, border-color 0.7s ease, box-shadow 0.7s ease;
}

/* Рамки и тени */
.NavbarDesktop_root__scYzp, 
.PlayerBar_root__cXUnU, 
.Content_main__8_wIa {
    border-color: var(--accent-color, #fff1);
    box-shadow: 0 0 20px -5px var(--accent-color, #0000);
}

/* Кнопка PAUSE */
button[data-test-id="PAUSE_BUTTON"] {
	background: var(--accent-color, #fff1) !important;
	color: var(--dark-vibrant-color, #000) !important;
	transition: background 0.7s ease, color 0.7s ease !important;
}

/* Кнопка PLAY */
button[data-test-id="PLAY_BUTTON"] {
	background: var(--accent-color, #fff1) !important;
	color: var(--dark-vibrant-color, #000) !important;
	transition: background 0.7s ease, color 0.7s ease !important;
}


button[data-test-id="LIKE_BUTTON"] {
	color: var(--accent-color, #8a63b3) !important;
	transition: filter 0.2s ease, color 0.7s ease, transform 0.2s ease-in-out;
}

button[data-test-id="LIKE_BUTTON"]:hover {
	filter: brightness(1.1);
	transform: scale(1.1);
}


/* --- XI. Прочие стили и исправления --- */

.MsLY_qiKofQrwKAr98EC::after {
	display: none !important;
}



.PlayerBarDesktopWithBackgroundProgressBar_player__ASKKs
{
	box-shadow: 0 0 20px -3px var(--accent-color, #0000);
	border-color: var(--accent-color, #fff1);
	transition: border-color 0.7s ease, box-shadow 0.7s ease;
}

button[data-test-id="FULLSCREEN_PLAYER_BUTTON"] {
	color: var(--accent-color, #8a63b3) !important;
	transition: filter 0.2s ease, color 0.7s ease, transform 0.2s ease-in-out;
}

[data-test-id="MY_VIBE_PLAY_BUTTON"] {
	transition: filter 0.2s ease, color 0.7s ease, transform 0.2s ease-in-out;
}

.InnerHeader_root_sticky__baN8o,
.InnerHeader_root_withChildren__rLTCN {
	background-color: rgba(25, 25, 25, 0.30) !important; 
    backdrop-filter: blur(1vh) !important;
    border-radius: 12px; /* Скругляем углы */
}

.PlaylistFilters_filter__s_myh {
	background-color: var(--accent-color, #8a63b3) !important;
    backdrop-filter: blur(1vh) !important;
    border-radius: 8px; /* Скругляем углы */
	transition: filter 0.3s ease-in-out, color 0.7s ease, transform 0.3s ease-in-out;
}

.PlaylistFilters_filter_selected__y3GuB {
	background-color: #16161660 !important;
}

button[data-test-id="MY_VIBE_PAUSE_BUTTON"] {
	/* color: var(--accent-color, #8a63b3) !important; */
	transition: filter 0.3s ease-in-out, color 0.7s ease, transform 0.3s ease-in-out;
}

.UserProfile_plusLink__NhVsU:hover {
	transform: scale(1.1);
	transition: filter 0.3s ease-in-out, color 0.7s ease, transform 0.3s ease-in-out;
}

.UserID-Avatar, .UserID-Avatar_plus, .UserID-Avatar_dark, .UserID-Badge:hover {
	transform: rotate(-1turn);
	transition: filter 0.3s ease-in-out, color 0.7s ease, transform 0.7s ease-in-out;
}



.SearchPage_content__Ax9D6 {
	background-color: rgba(25, 25, 25, 0) !important;
}

.SearchPage_header__T2OUM {
	background: 0;
	background-color: #16161660 !important;
	height: 130px !important;
	border-radius: 8px;
}

.PlaylistFilters_filter_selected__y3GuB {
	background-color: #16161660 !important;
}

[data-test-id="TAB"] {
	border-radius: 8px;
    background: rgba(255, 255, 255, 0.404);
	
}

.d50IqTKJZhJIMd5aTqAn {
	background-color: var(--accent-color, #8a63b3) !important;
	backdrop-filter: blur(1vh) !important;
	border-radius: 8px;
	transition: filter 0.3s ease-in-out, color 0.7s ease, transform 0.3s ease-in-out;
}

.StickyHeader_root_scrolling__EH9LA .StickyHeader_backdrop__fCnOw, .TextHeader_stickyItem__WF2hh, .TextHeader_stickyItem_scrolling__YPBOL {
	backdrop-filter: blur(1vh) brightness(100%) saturate(140%) !important;
}

/* акцтивируеться при светлом */
.Tab_title__hAYZk {
	color: #000000 !important;
	transition: filter 0.3s ease-in-out, color 0.7s ease, transform 0.3s ease-in-out;
}

@keyframes pulse {
    0% {
        transform: scale(1.0);
    }
    50% {
        transform: scale(1.03);
    }
    100% {
        transform: scale(1.0);
    }
}

.pulsing-background {
    animation: pulse 1.2s infinite ease-in-out;
    transition: transform 0.15s ease-out;
}
